{% extends "base.html" %}

{% block titulo_conteudo %}Detalhes do Produto{% endblock %}

{% block conteudo %}
<div class="container mt-4">
    <h1>Detalhes do Produto</h1>
    {% if produto %}
    <ul class="list-group">
        <li class="list-group-item"><strong>Nome:</strong> {{ produto.nome }}</li>
        <li class="list-group-item"><strong>Preço:</strong> R$ {{ produto.preco }}</li>
        <li class="list-group-item"><strong>Categoria:</strong> {{ produto.categoria.nome }}</li>
        <li class="list-group-item"><strong>Imagem:</strong>
            {% if produto.img_base64 %}
                <img src="data:image/jpeg;base64,{{ produto.img_base64 }}" alt="Imagem do Produto" width="100">
            {% else %}
                Sem imagem
            {% endif %}
        </li>
    </ul>
    <a href="{% url 'form_produto' produto.id %}" class="btn btn-warning mt-3">Editar</a>
    <form action="{% url 'excluir_produto' produto.id %}" method="post" style="display:inline;">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger mt-3">Excluir</button>
    </form>
    <a href="{% url 'lista_produtos' %}" class="btn btn-primary mt-3">Voltar</a>
    {% else %}
    <div class="alert alert-danger mt-4">
        <strong>Erro:</strong> Produto não encontrado.
    </div>
    <a href="{% url 'lista_produtos' %}" class="btn btn-primary mt-3">Voltar</a>
    {% endif %}
</div>
{% endblock conteudo %}
